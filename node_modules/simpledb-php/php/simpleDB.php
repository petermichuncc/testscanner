<?php

class simpleDB
{
    private $conn;
    private $host;
    private $username;
    private $password;
    private $db;
    private $driver;

    public function __construct($driver, $host, $db, $user, $pass) {
        $this->driver = $driver;
        $this->host = $host;
        $this->db = $db;
        $this->username = $user;
        $this->password = $pass;
    }

    public function connectToDB() {
        try {
            $this->conn = new PDO($this->driver . ':host=' . $this->host .';dbname=' . $this->db . ';charset=utf8', $this->username, $this->password);
        } catch(PDOException $e) {
            echo 'ERROR: ' . $e->getMessage();
        }
    }

    public function queryDB($query) {
        try {
            $stmt = $this->conn->query($query);
            $result = $stmt->fetchAll(PDO::FETCH_ASSOC);

            if ( count($result) ) {
                foreach($result as $row) {
                    print "<pre>";
                    print_r($row);
                    print "</pre>";
                }
            } else {
                echo "No rows returned.";
            }

        } catch(PDOException $e) {
            echo 'Error: ' . $e->getMessage();
        }
    }

    public function disconnectDB() {
        $this->conn = null;
    }
}
?>